/*{
    "email": "gleison.dev@gmail.com",
    "linkedin": "https://www.linkedin.com/in/gleison-pereira-de-miranda-89367626/",
    "phone": "+5531993060519",
    "resume": "",
    "infos": [
        {
            "title": "Experiência",
            "items": [
                {
                    "img": "https://media.licdn.com/dms/image/D4E0BAQEqFTWz7-wkJg/company-logo_100_100/0/1691518652740/localizaco_logo?e=1709769600&v=beta&t=0gEwm10WNoWDtvREmGLLv9c1F2BiJHk71BYpkcjkX9Y",
                    "job": "Desenvolvedor .NET C# Sênior",
                    "company": "Localiza&Co",
                    "period": "2023 – o momento"
                },
                {
                    "img": "https://media.licdn.com/dms/image/C4D0BAQGpIPeldwcRFQ/company-logo_100_100/0/1630552123151/m2db_solutions_logo?e=1709769600&v=beta&t=_DEhJExmVP9PTTAgjzpkTWsAk07AiBwkBv1Q7DyZYyU",
                    "job": "Desenvolvedor Backend .Net C# Sênior",
                    "company": "M2DB Simplified IT",
                    "period": "2022 – 2023"
                },
                {
                    "img": "https://media.licdn.com/dms/image/C4E0BAQE_bsjSb4rxkA/company-logo_100_100/0/1630614026413/meta3group_logo?e=1709769600&v=beta&t=k73XFZpBVeI5HExcE0vKFKq5IFKj0fP7N9xQxwZSpi4",
                    "job": "Desenvolvedor .Net C# Sênior",
                    "company": "Meta3Group",
                    "period": "2020 – 2022"
                },
                {
                    "img": "https://media.licdn.com/dms/image/D4D0BAQF9CBd_Z79LpA/company-logo_100_100/0/1701436342026/mrvengenharia_logo?e=1709769600&v=beta&t=V1lFHFm2ZNmgCPULxjs6IObND41TUMOpiwT65BfDHec",
                    "job": "Desenvolvedor .Net C# Sênior (Outsource Grupo Mult)",
                    "company": "MRV",
                    "period": "2020 – 2020"
                },
                {
                    "img": "https://media.licdn.com/dms/image/D4D0BAQEYxhqp5J4pVQ/company-logo_100_100/0/1694546531638?e=1709769600&v=beta&t=kPWWsn9b7dH1zOYcAH2MPJmvOkoRizCcjPL1kSLNOg4",
                    "job": "Desenvolvedor Backend .Net C# Sênior (Outsource Grupo Mult)",
                    "company": "BS2 Hub",
                    "period": "2018 – 2020"
                },
                {
                    "img": "https://media.licdn.com/dms/image/D4D0BAQE3HyRf-pmFOg/company-logo_100_100/0/1698842244782/vlilogistica_logo?e=1709769600&v=beta&t=MlSQRfjH5vBqHIbAeXG-iRFdHATvhDk8t5CHQ00fVIM",
                    "job": "Analista de sistemas .Net C# Sênior (Outsource Grupo Mult)",
                    "company": "VLI Logística",
                    "period": "2015 – 2018"
                },
                {
                    "img": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
                    "job": "Analista de sistemas .Net C# Sênior (Outsource Grupo Mult)",
                    "company": "Grupo Dadalto",
                    "period": "2014 – 2015"
                },
                {
                    "img": "https://media.licdn.com/dms/image/D4E0BAQEqFTWz7-wkJg/company-logo_100_100/0/1691518652740/localizaco_logo?e=1709769600&v=beta&t=0gEwm10WNoWDtvREmGLLv9c1F2BiJHk71BYpkcjkX9Y",
                    "job": "Analista de Sistemas .Net VB.NET Sênior (Outsource Grupo Mult)",
                    "company": "Localiza Rent a Car",
                    "period": "2013 – 2014"
                },
                {
                    "img": "https://media.licdn.com/dms/image/C4E0BAQHO_jfxcF1uAQ/company-logo_100_100/0/1630620118099/almawave_logo?e=1709769600&v=beta&t=lCNswlNJGsIXGwyGgT7F9x82zCitd1WEIAAk5eGr9e8",
                    "job": "Desenvolvedor .Net C# Pleno (Outsource Grupo Mult)",
                    "company": "Alma Wave",
                    "period": "2013 – 2013"
                },
                {
                    "img": "https://media.licdn.com/dms/image/C4D0BAQG3DAAIFdABSA/company-logo_100_100/0/1630559780149/teksid_logo?e=1709769600&v=beta&t=Hb6ln6NnN-DR-9T9E8mdE4sqhXyO3ST44xO8Qa-WUL8",
                    "job": "Analista de Sistemas .Net C# Pleno",
                    "company": "Teksid",
                    "period": "2012 – 2013"
                },
                {
                    "img": "https://media.licdn.com/dms/image/C560BAQF8FCP3KgiKtQ/company-logo_100_100/0/1631351425343?e=1709769600&v=beta&t=Th8xWmHdtSEOTx5s907LHBENJ4ZMeAOnXEYWO2w3G6w",
                    "job": "Analista de Sistemas .Net C# Pleno",
                    "company": "attps Informática S/A",
                    "period": "2010 – 2012"
                },
                {
                    "img": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
                    "job": "Analista de Sistemas .Net C#, VB.NET Pleno",
                    "company": "Mobile Solution Tecnology LTDA",
                    "period": "2008 – 2010"
                },
                {
                    "img": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
                    "job": "Desenvolvedor ASP e .NET Junior",
                    "company": "Rede Netimóveis",
                    "period": "2007 – 2008"
                }
            ]
        },
        {
            "title": "Formação acadêmica",
            "items": [
                {
                    "img": "https://media.licdn.com/dms/image/C4D0BAQFx2XuglwyZEw/company-logo_100_100/0/1633350538567?e=1709769600&v=beta&t=FP4TEyavh4ki--lxNQWTRhTJRmaY-IBaGC-BTbnw9Vw",
                    "job": "Centro Universitário UNA",
                    "company": "Técnologo, Análise de Systemas",
                    "period": "2007 – 2009"
                }
            ]
        }
    ],
    "jobId": "3775564708",
    "applId": "21765488143",
    "name": "Gleison Pereira de Miranda",
    "img": "https://media.licdn.com/dms/image/D4D03AQEDvxCcl6l8tA/profile-displayphoto-shrink_100_100/0/1674752236760?e=1707350400&v=beta&t=mcqvYwim5upE5dLUoK_QExMheYFTM-x-WCsnAVXCVlk",
    "title": "Desenvolvedor .NET C# Sênior",
    "location": "Belo Horizonte, Minas Gerais, Brasil"
}*/
import {
  Column,
  Entity,
  JoinColumn,
  ManyToOne,
  OneToMany,
  PrimaryColumn,
  PrimaryGeneratedColumn,
} from 'typeorm';
import { Job } from './jobs.entity';

@Entity()
export class Applicant {
  @PrimaryColumn({ name: 'appl_id', type: 'int8' })
  applId: number;

  @Column()
  name: string;

  @Column()
  img: string;

  @Column()
  title: string;

  @Column()
  location: string;

  @Column()
  email: string;

  @Column()
  linkedin: string;

  @Column()
  phone: string;

  @ManyToOne(() => Job, (j) => j.applicants)
  @JoinColumn({ name: 'job_id' })
  job: Job;

  @OneToMany(() => ProfessionalExperience, (p) => p.applId)
  professionalExperiences: ProfessionalExperience[];

  @OneToMany(() => AcademicExperience, (a) => a.applId)
  academicExperiences: AcademicExperience[];
}

@Entity()
export class ProfessionalExperience {
  @PrimaryGeneratedColumn({ name: 'prof_id' })
  profId: number;

  @Column()
  img: string;

  @Column()
  title: string;

  @Column()
  company: string;

  @Column()
  period: string;

  @ManyToOne(() => Applicant, (applicant) => applicant.professionalExperiences)
  @JoinColumn({ name: 'appl_id' })
  applId: number;

  //   @ManyToOne(() => Applicant, (applicant) => applicant.professionalExperiences)
  //   @JoinColumn({ name: 'appl_id' })
  //   applicant: Applicant;
}

@Entity()
export class AcademicExperience {
  @PrimaryGeneratedColumn({ name: 'acad_id' })
  acadId: number;

  @Column()
  img: string;

  @Column()
  institution: string;

  @Column()
  course: string;

  @Column()
  period: string;

  @JoinColumn({ name: 'appl_id' })
  @ManyToOne(() => Applicant, (applicant) => applicant.academicExperiences)
  applId: number;
  //   @ManyToOne(() => Applicant, (applicant) => applicant.academicExperiences)
  //   @JoinColumn({ name: 'appl_id' })
  //   applicant: Applicant;
}
